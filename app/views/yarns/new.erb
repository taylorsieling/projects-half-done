<section class="hero is-dark">
  <div class="hero-body">
    <div class="container">
      <h1 class="title">
        Add a new hank of yarn!
      </h1>
    </div>
  </div>
</section>

<div class="hero is-light">

    <div class="hero-body mx-6 px-6">

        <!--Error-->
        <div class="container">
            <% if flash[:notice] %>
            <%= flash[:notice] %>
            <% end %>
        </div><br>

        <form method="POST" action="/yarns">

            <div class="columns">
                <div class="column">
                    <div class="field">
                        <label for="brand" class="label">Brand: </label>
                        <div class="control">
                            <input class="input is-medium is-hovered" type="text" name="yarn[brand]" id="brand">
                        </div>
                    </div>
                </div>
        
                <div class="column">
                    <div class="field">
                        <label for="name" class="label">Name: </label>
                        <div class="control">
                            <input class="input is-medium is-hovered" type="text" name="yarn[name]" id="name">
                        </div>
                    </div>
                </div>
            </div>

             <div class="columns">
                <div class="column">
                    <div class="field">
                        <label for="weight" class="label">Weight:</label>
                        <div class="control">
                            <input class="input is-medium is-hovered" type="text" name="yarn[weight]" id="weight">
                        </div>
                    </div>
                </div>
        
                <div class="column">
                    <div class="field">
                        <label for="color" class="label">Color: </label>
                        <div class="control">
                            <input class="input is-medium is-hovered" type="text" name="yarn[color]" id="color">
                        </div>
                    </div>
                </div>
            </div>

             <div class="columns">
                <div class="column">
                    <div class="field">
                        <label for="quantity" class="label">Quantity:</label>
                        <div class="control">
                            <input class="input is-medium is-hovered" type="number" name="yarn[quantity]" id="quantity">
                        </div>
                    </div>
                </div>
            </div>

            <br>
            <label class="label">Add your yarn to a project:</label>
                <% if current_user.projects  == [] || current_user.projects == nil %>
                    <p>You have no current projects! Please create a new one.</p>
                <% else %>
             <br>   
            <div class="control">
                    <% current_user.projects.each do |project| %>
                        <label for="<%= project.id %>" class="radio">
                            <input type="radio" name="yarn[project_id]" id="<%= project.id %>" value="<%= project.id %>">
                            <%= "#{project.name}" %>
                        </label>
                    <% end %>
                <% end %>
            </div>


            <br><br>
        
            <div class="field is-grouped is-grouped-right px-6 mx-6 pb-6 mb-6">
                <div class="control">
                     <input type="submit" class="button is-medium is-dark" value="Create">
                </div>
                <div class="control">
                    <button class="button is-medium"><a href="/yarns/<%="#{current_user.id}"%>">Cancel</a></button>
                </div>
            </div>

        </form>

    </div>

</div>